<script>
	$('.page_link').click(function(event){
		// preventing default actions
    
		event.preventDefault();
		var page_no = $(this).attr('href');
    console.log(page_no)
		// ajax call
			$.ajax({
					type: "POST",
					// define url name
					url: "{% url 'view_Patients' %}", 
					data : {    
					page_no : page_no, 
					csrfmiddlewaretoken: '{{ csrf_token }}',
				},
				// handle a successful response
				success: function (response) {
          $('#section_div').html(response) 
        },

				error: function () {
					alert('Error Occured');
				}
			}); 
	}); 

	</script>

<div class="col-md-12 right_side row  p-3 mb-5 mt-3  mt-3"style="height: 400px;">
    <div>
    <div class="col-md-12 text-center"> <h3 class="headings">Patients</h3></div>
    <table class="table table-bordered table-hover">
        <thead>
        <tr>
            <th>Name</th>
            <th>Address</th>
            <th>phone</th>
            <th>Role</th>
            <th>Actions</th>
            
        </tr>
    </thead>
    <tbody>
        {% for i in pati %}
        <tr>
            <td style="width:20%">{{i.user_id.username}}</td>
            <td style="width:20%">{{i.address}}</td>
            <td style="width:20%">{{i.phone}}</td>
            <td style="width:20%">{{i.rol_id.name}}</td>
            <td style="width:20%"><button class="btn btn-danger btn-sm" onclick="delete_patient('{{i.id}}')">Remove</button>
                
            </td>
        </tr>
        {% endfor %}

    </tbody>

    </table>
</div>
</div>
<center>
    <div class="pagination right_side col-md-6 ">
      <span class="step-links col-md-12 row">
          
    
          <span class="current col-md-6 mt-2 mb-2  ">
              Page {{ pati.number }} of {{ pati.paginator.num_pages }}.
          </span>
          <div class="col-md-6 ">
          {% if pati.has_previous %}
            <div class=" row">
              <a class="page_link m-2" href="1">&laquo; first</a>
              <a class="page_link m-2" href="{{ pati.previous_page_number }}">previous</a>
            </div>
          {% endif %}
    
          {% if pati.has_next %}
          <div class=" row">
              <a type="button" class="page_link m-2" href="{{ pati.next_page_number }}">next</a>
              <a type="button" class="page_link m-2" href="{{ pati.paginator.num_pages }}">last &raquo;</a>
            </div>
          {% endif %}
        </div>
      </span>
    </div>
    </center>


