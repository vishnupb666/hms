<script>
	$('.page_link').click(function(event){
		// preventing default actions
    
		event.preventDefault();
		var page_no = $(this).attr('href');
    console.log(page_no)
		// ajax call
			$.ajax({
					type: "POST",
					// define url name
					url: "{% url 'listDoctors' %}", 
					data : {    
					page_no : page_no, 
					csrfmiddlewaretoken: '{{ csrf_token }}',
				},
				// handle a successful response
				success: function (response) {
          $('.listDoc').html(response) 
        },

				error: function () {
					alert('Error Occured');
				}
			}); 
	}); 

	</script>

<div class="col-md-12 ">
    <div class="text-center"><h3 class="headings">Doctors details</h3></div>
    <table class="table table-bordered table-hover">
        <thead>
            <tr>
                <th>Name</th>
                <th>Department</th>
                <th>Phone</th>
                {% if user.is_superuser%}
                <th>Action</th>
                {% endif %}
            </tr>
        </thead>
        <tbody>
            {% for i in doc %}
            <tr>
                <td style="width:30%;">{{i.user_id.username}}</td>
                <td style="width:30%;">{{i.dep_id.name}}</td>
                <td style="width:30%;">{{i.user_id.user_ext.phone}}</td>
                {% if user.is_superuser %}
                <td style="width:20%;">
                    
                            
                            
                            <button class="btn btn-danger
                                btn-sm" onclick="delete_doc('{{i.id}}')">Remove</button>
                </td>
                {% endif %}
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
<center>
    <div class="pagination right_side col-md-6 ">
      <span class="step-links col-md-12 row">
          
    
          <span class="current col-md-6 mt-2 mb-2 ">
              Page {{ doc.number }} of {{ doc.paginator.num_pages }}.
          </span>
          <div class="col-md-6 ">
          {% if doc.has_previous %}
            <div class=" row">
              <a class="page_link m-2" href="1">&laquo; first</a>
              <a class="page_link m-2" href="{{ doc.previous_page_number }}">previous</a>
            </div>
          {% endif %}
    
          {% if dep.has_next %}
          <div class=" row">
              <a type="button" class="page_link m-2" href="{{ doc.next_page_number }}">next</a>
              <a type="button" class="page_link m-2" href="{{ doc.paginator.num_pages }}">last &raquo;</a>
            </div>
          {% endif %}
        </div>
      </span>
    </div>
    </center>